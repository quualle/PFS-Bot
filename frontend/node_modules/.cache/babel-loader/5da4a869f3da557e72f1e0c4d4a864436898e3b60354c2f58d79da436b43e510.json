{"ast":null,"code":"var _jsxFileName = \"/Users/marcoheer/Desktop/privat/Programmierung/XORA/PFS-Bot/frontend/src/components/Chat/ChatMessages.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { Box, Typography, CircularProgress, Alert } from '@mui/material';\nimport { useChat } from '../../contexts/ChatContext';\nimport ChatMessage from './ChatMessage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatMessages = () => {\n  _s();\n  const {\n    messages,\n    isLoading,\n    error,\n    isStreaming\n  } = useChat();\n  const messagesEndRef = useRef(null);\n\n  // Auto-scroll to bottom when new messages come in\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        flexDirection: 'column',\n        gap: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: \"Loading conversation...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      flexGrow: 1,\n      pb: 2\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), messages.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100%',\n        flexDirection: 'column',\n        gap: 2,\n        opacity: 0.7\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"Start a conversation with XORA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: \"Ask a question about care stays, agencies, or customer details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: message,\n        index: index\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this))\n    }, void 0, false), isStreaming && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 1,\n        mt: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"text.secondary\",\n        children: \"XORA is responding...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatMessages, \"9Hf7qAAF8J+K9NfYJezBT8P2kqA=\", false, function () {\n  return [useChat];\n});\n_c = ChatMessages;\nexport default ChatMessages;\nvar _c;\n$RefreshReg$(_c, \"ChatMessages\");","map":{"version":3,"names":["React","useRef","useEffect","Box","Typography","CircularProgress","Alert","useChat","ChatMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatMessages","_s","messages","isLoading","error","isStreaming","messagesEndRef","current","scrollIntoView","behavior","sx","display","justifyContent","alignItems","height","flexDirection","gap","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","flexGrow","pb","severity","mb","length","opacity","map","message","index","id","mt","size","ref","_c","$RefreshReg$"],"sources":["/Users/marcoheer/Desktop/privat/Programmierung/XORA/PFS-Bot/frontend/src/components/Chat/ChatMessages.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { Box, Typography, CircularProgress, Alert } from '@mui/material';\nimport { useChat } from '../../contexts/ChatContext';\nimport ChatMessage from './ChatMessage';\n\nconst ChatMessages: React.FC = () => {\n  const { messages, isLoading, error, isStreaming } = useChat();\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to bottom when new messages come in\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  if (isLoading) {\n    return (\n      <Box\n        sx={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100%',\n          flexDirection: 'column',\n          gap: 2,\n        }}\n      >\n        <CircularProgress />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Loading conversation...\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n        pb: 2,\n      }}\n    >\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n\n      {messages.length === 0 ? (\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: '100%',\n            flexDirection: 'column',\n            gap: 2,\n            opacity: 0.7,\n          }}\n        >\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            Start a conversation with XORA\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Ask a question about care stays, agencies, or customer details\n          </Typography>\n        </Box>\n      ) : (\n        <>\n          {messages.map((message, index) => (\n            <ChatMessage key={message.id} message={message} index={index} />\n          ))}\n        </>\n      )}\n\n      {isStreaming && (\n        <Box\n          sx={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            mt: 1,\n          }}\n        >\n          <CircularProgress size={16} />\n          <Typography variant=\"caption\" color=\"text.secondary\">\n            XORA is responding...\n          </Typography>\n        </Box>\n      )}\n\n      <div ref={messagesEndRef} />\n    </Box>\n  );\n};\n\nexport default ChatMessages;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}